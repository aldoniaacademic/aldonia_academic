<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>aldonia academy - Ø§Ù„Ø·Ù„Ø§Ø¨ & Ø§Ù„Ø£Ø¯Ù…Ù†</title>
<style>
:root{
  --bg:#0b1020; --text:#eef1ff; --brand:#6c7bff; --brand2:#33d6a6; --radius:16px;
  --colorEng:#6c7bff; --colorPhys:#33d6a6; --colorOther:#ffb347;
}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Tahoma,Arial;background:var(--bg);color:var(--text);}
.container{max-width:900px;margin:0 auto;padding:22px;}
h1,h2{margin:0 0 12px;}
input,textarea,button,select{border-radius:12px;padding:10px;border:none;outline:none;font-size:15px;}
input,textarea,select{width:100%;margin-top:8px;background: rgba(255,255,255,.04);color:var(--text);border:1px solid rgba(255,255,255,.12);}
textarea.aiInput{height:150px;}
button{cursor:pointer;}
.card{background: rgba(18,26,51,.85); border-radius:var(--radius);padding:14px;margin-top:12px; border:1px solid rgba(255,255,255,.08);}
.btnPrimary{background: linear-gradient(135deg,var(--brand),var(--brand2)); color:#0b1020; font-weight:700; margin-top:8px;}
#aiContainer,#scheduleContainer,#adminQuestions,#adminSchedule{margin-top:12px; max-height:300px; overflow:auto; padding:8px; border:1px solid rgba(255,255,255,.12); border-radius:12px;}
.aiQuestion,.aiSchedule{margin-top:6px; padding:6px; border-radius:10px; display:flex; justify-content:space-between; align-items:center;}
.scheduleText{flex:1;}
.scheduleBtn{margin-left:8px; padding:5px 8px; border-radius:10px; border:none; background:var(--brand2); color:#0b1020; cursor:pointer;}
.designGrid{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:12px;}
.designInput{display:flex;flex-direction:column;}
.designInput label{margin-bottom:5px;font-weight:600;font-size:13px;}
.designInput input[type="color"]{height:45px;cursor:pointer;}
.designInput input[type="text"]{width:100%;}
.designBtnGroup{display:flex;gap:8px;margin-top:12px;}
.designBtnGroup button{flex:1;}
</style>
</head>
<body>

<!-- =================== Ø§Ù„Ø·Ù„Ø§Ø¨ =================== -->
<div class="container" id="studentSection">
  <h1 id="mainTitle">aldonia academy - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸ“</h1>
  <form id="emailForm" class="card">
    <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
    <input required id="emailInput" type="email" placeholder="email@example.com">
    <button type="submit" class="btnPrimary">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
  </form>

  <div id="aiSection" class="card" style="display:none;">
    <h2 id="questionsTitle">ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (AI Ø®Ø§Ù†Ø©)</h2>
    <div id="aiContainer"></div>
    <textarea class="aiInput" id="aiInput" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§..."></textarea>
    <button class="btnPrimary" id="submitQuestion">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„</button>
  </div>

  <div id="scheduleSection" class="card" style="display:none;">
    <h2 id="scheduleTitle">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ</h2>
    <div id="scheduleContainer"></div>
  </div>
</div>

<!-- =================== Ø§Ù„Ø£Ø¯Ù…Ù† =================== -->
<div class="container" id="adminSection" style="display:none;">
  <h1>Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù† ğŸ› ï¸</h1>
  <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
  <input type="password" id="adminPass" placeholder="Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button class="btnPrimary" id="loginAdmin">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†</button>

  <div id="adminPanel" style="display:none;">
    <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h2>
    <div id="adminQuestions"></div>
    <textarea class="aiInput" id="adminAdd" placeholder="Ø£Ø¶Ù Ø³Ø¤Ø§Ù„ Ø£Ùˆ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©"></textarea>
    <button class="btnPrimary" id="adminAddBtn">Ø£Ø¶Ù Ø§Ù„Ø³Ø¤Ø§Ù„/ØªØ¹Ù„ÙŠÙ…Ø§Øª</button>

    <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­ØµØµ -->
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­ØµØµ</h2>
    <div id="adminSchedule"></div>
    <input id="newClass" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø§Ø¯Ø©:Ø§Ù„Ø§Ø³Ù…:Ø§Ù„ÙˆÙ‚Øª:Ø±Ù‚Ù… ÙˆØ§Øªï¿½ï¿½Ø§Ø¨ Ø§Ù„ÙƒØ§Ø¯Ø±">
    <small>Ù…Ø«Ø§Ù„: Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ:ØªØ§Ù„Ø§ Ø§Ù„Ø¨Ø¯ÙˆØ±:12:00:962787004304</small>
    <button class="btnPrimary" id="adminAddSchedule">Ø£Ø¶Ù Ø§Ù„Ø­ØµØ©</button>

    <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… -->
    <h2>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ…</h2>
    <div class="card">
      <div class="designGrid">
        <div class="designInput">
          <label>ğŸ¨ Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ©</label>
          <input type="color" id="bgColorPicker" value="#0b1020">
        </div>
        <div class="designInput">
          <label>ğŸ“ Ù„ÙˆÙ† Ø§Ù„Ù†ØµÙˆØµ</label>
          <input type="color" id="textColorPicker" value="#eef1ff">
        </div>
        <div class="designInput">
          <label>ğŸ’™ Ù„ÙˆÙ† Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
          <input type="color" id="brand1Picker" value="#6c7bff">
        </div>
        <div class="designInput">
          <label>ğŸ’š Ù„ÙˆÙ† Ø§Ù„Ø²Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ</label>
          <input type="color" id="brand2Picker" value="#33d6a6">
        </div>
        <div class="designInput">
          <label>ğŸ“Œ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label>
          <input type="text" id="mainTitleInput" value="aldonia academy - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸ“">
        </div>
        <div class="designInput">
          <label>ğŸ“Œ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</label>
          <input type="text" id="questionsTitleInput" value="ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (AI Ø®Ø§Ù†Ø©)">
        </div>
        <div class="designInput">
          <label>ğŸ“Œ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„</label>
          <input type="text" id="scheduleTitleInput" value="Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ">
        </div>
      </div>
      <div class="designBtnGroup">
        <button class="btnPrimary" id="applyDesignBtn">âœ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
        <button class="btnPrimary" id="resetDesignBtn">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
      </div>
    </div>
  </div>
</div>

<script>
// ---------- Ø§Ù„Ø·Ù„Ø§Ø¨ ----------
let studentEmail;
const emailForm=document.getElementById("emailForm");
const aiSection=document.getElementById("aiSection");
const aiContainer=document.getElementById("aiContainer");
const scheduleSection=document.getElementById("scheduleSection");
const scheduleContainer=document.getElementById("scheduleContainer");

emailForm.addEventListener("submit",(e)=>{
  e.preventDefault();
  studentEmail=document.getElementById("emailInput").value.trim();
  if(!studentEmail){alert("Ø¶Ø¹ Ø¨Ø±ÙŠØ¯ ØµØ§Ù„Ø­"); return;}
  emailForm.style.display="none";
  aiSection.style.display="block";
  scheduleSection.style.display="block";
  loadQuestions();
  loadSchedule();
  alert("Ù…Ø±Ø­Ø¨Ù‹Ø§! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø§Ù†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ±Ø¤ÙŠØ© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ.");
});

// Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
document.getElementById("submitQuestion").addEventListener("click",()=>{
  const question=document.getElementById("aiInput").value.trim();
  if(!question) return;
  const qObj={email:studentEmail,text:question};
  saveQuestion(qObj);
  displayQuestion(qObj);
  document.getElementById("aiInput").value="";
});

function saveQuestion(q){
  let allQs=JSON.parse(localStorage.getItem("questions")||"[]");
  allQs.push(q);
  localStorage.setItem("questions",JSON.stringify(allQs));
}
function loadQuestions(){
  aiContainer.innerHTML="";
  const allQs=JSON.parse(localStorage.getItem("questions")||"[]");
  allQs.filter(q=>q.email===studentEmail).forEach(displayQuestion);
}
function displayQuestion(q){
  const div=document.createElement("div");
  div.className="aiQuestion";
  div.textContent=q.text;
  aiContainer.appendChild(div);
}

// ---------- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ ----------
function loadSchedule(){
  scheduleContainer.innerHTML="";
  const allClasses=JSON.parse(localStorage.getItem("classes")||"[]");
  allClasses.forEach((c,i)=>{
    const div=document.createElement("div");
    div.className="aiSchedule";
    const parts=c.split(":");
    const color=parts[0].toLowerCase().includes("Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ")? "var(--colorEng)" : parts[0].toLowerCase().includes("ÙÙŠØ²ÙŠØ§Ø¡")? "var(--colorPhys)" : "var(--colorOther)";
    div.style.background=color;
    const textDiv=document.createElement("div");
    textDiv.className="scheduleText";
    textDiv.textContent=`${parts[0]} Ù…Ø¹ ${parts[1]} Ø§Ù„Ø³Ø§Ø¹Ø© ${parts[2]}`;
    div.appendChild(textDiv);

    const btn=document.createElement("button");
    btn.className="scheduleBtn";
    btn.textContent="ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„ÙƒØ§Ø¯Ø±";
    btn.onclick=()=>{window.open(`https://wa.me/${parts[3]}?text=Ù…Ø±Ø­Ø¨Ø§ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø­ØµØ©`,"_blank");};
    div.appendChild(btn);

    scheduleContainer.appendChild(div);
  });
}

// ---------- Ø§Ù„Ø£Ø¯Ù…Ù† ----------
const adminSection=document.getElementById("adminSection");
const adminPanel=document.getElementById("adminPanel");
const adminQuestions=document.getElementById("adminQuestions");
const adminSchedule=document.getElementById("adminSchedule");
const adminPass="1234";

document.getElementById("loginAdmin").addEventListener("click",()=>{
  const pass=document.getElementById("adminPass").value;
  if(pass===adminPass){
    adminPanel.style.display="block";
    loadAdminQuestions();
    loadAdminSchedule();
    loadDesignSettings();
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù†");
  }else{alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!");}
});

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
document.getElementById("adminAddBtn").addEventListener("click",()=>{
  const text=document.getElementById("adminAdd").value.trim();
  if(!text) return;
  const qObj={email:"admin",text:text};
  saveQuestion(qObj);
  loadAdminQuestions();
  document.getElementById("adminAdd").value="";
});

function loadAdminQuestions(){
  adminQuestions.innerHTML="";
  const allQs=JSON.parse(localStorage.getItem("questions")||"[]");
  allQs.forEach((q,i)=>{
    const div=document.createElement("div");
    div.className="aiQuestion";
    div.textContent=`${q.email}: ${q.text}`;
    const delBtn=document.createElement("button");
    delBtn.textContent="Ø­Ø°Ù";
    delBtn.style.marginLeft="8px";
    delBtn.onclick=()=>{
      allQs.splice(i,1);
      localStorage.setItem("questions",JSON.stringify(allQs));
      loadAdminQuestions();
      loadQuestions();
    };
    div.appendChild(delBtn);
    adminQuestions.appendChild(div);
  });
}

// Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­ØµØµ
document.getElementById("adminAddSchedule").addEventListener("click",()=>{
  const cls=document.getElementById("newClass").value.trim();
  if(!cls) return;
  let allClasses=JSON.parse(localStorage.getItem("classes")||"[]");
  allClasses.push(cls);
  localStorage.setItem("classes",JSON.stringify(allClasses));
  loadAdminSchedule();
  loadSchedule();
  document.getElementById("newClass").value="";
});

function loadAdminSchedule(){
  adminSchedule.innerHTML="";
  const allClasses=JSON.parse(localStorage.getItem("classes")||"[]");
  allClasses.forEach((c,i)=>{
    const div=document.createElement("div");
    div.className="aiSchedule";
    const parts=c.split(":");
    const color=parts[0].toLowerCase().includes("Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ")? "var(--colorEng)" : parts[0].toLowerCase().includes("ÙÙŠØ²ÙŠØ§Ø¡")? "var(--colorPhys)" : "var(--colorOther)";
    div.style.background=color;
    const textDiv=document.createElement("div");
    textDiv.className="scheduleText";
    textDiv.textContent=`${parts[0]} Ù…Ø¹ ${parts[1]} Ø§Ù„Ø³Ø§Ø¹Ø© ${parts[2]}`;
    div.appendChild(textDiv);

    const delBtn=document.createElement("button");
    delBtn.className="scheduleBtn";
    delBtn.textContent="Ø­Ø°Ù";
    delBtn.onclick=()=>{
      allClasses.splice(i,1);
      localStorage.setItem("classes",JSON.stringify(allClasses));
      loadAdminSchedule();
      loadSchedule();
    };
    div.appendChild(delBtn);

    adminSchedule.appendChild(div);
  });
}

// ---------- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… ----------
function loadDesignSettings(){
  const design=JSON.parse(localStorage.getItem("designSettings")||'{"bg":"#0b1020","text":"#eef1ff","brand1":"#6c7bff","brand2":"#33d6a6","mainTitle":"aldonia academy - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸ“","questionsTitle":"ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (AI Ø®Ø§Ù†Ø©)","scheduleTitle":"Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ"}');
  document.getElementById("bgColorPicker").value=design.bg;
  document.getElementById("textColorPicker").value=design.text;
  document.getElementById("brand1Picker").value=design.brand1;
  document.getElementById("brand2Picker").value=design.brand2;
  document.getElementById("mainTitleInput").value=design.mainTitle;
  document.getElementById("questionsTitleInput").value=design.questionsTitle;
  document.getElementById("scheduleTitleInput").value=design.scheduleTitle;
  applyDesign(design);
}

function applyDesign(design){
  document.documentElement.style.setProperty('--bg',design.bg);
  document.documentElement.style.setProperty('--text',design.text);
  document.documentElement.style.setProperty('--brand',design.brand1);
  document.documentElement.style.setProperty('--brand2',design.brand2);
  document.getElementById("mainTitle").textContent=design.mainTitle;
  document.getElementById("questionsTitle").textContent=design.questionsTitle;
  document.getElementById("scheduleTitle").textContent=design.scheduleTitle;
  document.body.style.backgroundColor=design.bg;
  document.body.style.color=design.text;
}

document.getElementById("applyDesignBtn").addEventListener("click",()=>{
  const design={
    bg:document.getElementById("bgColorPicker").value,
    text:document.getElementById("textColorPicker").value,
    brand1:document.getElementById("brand1Picker").value,
    brand2:document.getElementById("brand2Picker").value,
    mainTitle:document.getElementById("mainTitleInput").value,
    questionsTitle:document.getElementById("questionsTitleInput").value,
    scheduleTitle:document.getElementById("scheduleTitleInput").value
  };
  localStorage.setItem("designSettings",JSON.stringify(design));
  applyDesign(design);
  alert("âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª!");
});

document.getElementById("resetDesignBtn").addEventListener("click",()=>{
  localStorage.removeItem("designSettings");
  location.reload();
});

// ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
window.addEventListener("DOMContentLoaded",()=>{
  const design=JSON.parse(localStorage.getItem("designSettings")||'{"bg":"#0b1020","text":"#eef1ff","brand1":"#6c7bff","brand2":"#33d6a6","mainTitle":"aldonia academy - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸ“","questionsTitle":"ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (AI Ø®Ø§Ù†Ø©)","scheduleTitle":"Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ"}');
  applyDesign(design);
});
</script>
</body>
</html>
